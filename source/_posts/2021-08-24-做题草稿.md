## F

$$
要求\sum_{i=1}^n\sum_{j = 1}^m \gcd (i, j) \times 2 - 1\\
=(2\times \sum_{i=1}^n\sum_{j = 1}^m \gcd (i, j)) - n\times m
=(2\times \sum_{i=1}^n\sum_{d|m}\frac{m}{d}\varphi(d)) - n \times m\\
=(2\times \sum_{i=1}^{\min(n,m)}\frac{n}{d}\frac{m}{d}\varphi(d))
$$

## H

​$$
枚举gcd(x,y)=p，研究有多少对(x,y)满足：
$$
$$
p|x且p|y且1\le x\le n且1\le y\le m且gcd(x/p,y/p)=1 \\
$$
$$
设x=p \times a,y=p \times b \\ 
$$
$$
约束变为1\le a\le \lfloor n/p\rfloor 且1\le b\le \lfloor m/p\rfloor且gcd(a,b)=1 \\
$$
$$
∑_{i=1}^{\lfloor n/p\rfloor}∑_{j=1}^{\lfloor m /p\rfloor}[gcd(i,j)=1]=∑_{i=1}^{\lfloor n/p\rfloor}∑_{j=1}^{\lfloor m /p\rfloor}∑_{d|gcd(i,j)}\mu(d) \\
$$
$$
[gcd(i,j)=1]=∑_{d|gcd(i,j)}\mu(d) \\
$$
$$
原式=∑(\mu(d) \times (\lfloor n/(p \times d) \rfloor) \times (\lfloor m/(p \times d) \rfloor)) \\
$$
$$
令t=p \times d则d=t/p \\
$$
$$
原式=∑_{p|t}(\mu(t/p) \times (\lfloor n/t \rfloor) \times (\lfloor m/t \rfloor)) \\
$$
$$
定义函数h(x)=∑_{p|x}\mu(x/p) \\
$$
$$
∑_{p是质数}原式=∑(h(t) \times (\lfloor n/t \rfloor) \times (\lfloor m/t \rfloor)) \\
$$
$$
只要我们能求h(x)的区间和，就能用整除分块 \\
$$